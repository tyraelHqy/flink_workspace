# DataSet API编程

## DataSet API开发概述

DataSet programs in Flink are regular programs that implement transformations on data sets (e.g., **filtering, mapping, joining, grouping**). The data sets are initially created from certain sources (e.g., by **reading files,** or **from local collections**). Results are returned via sinks, which may for example write the data to (distributed) files, or to standard output (for example the command line terminal). Flink programs run in a variety of **contexts**, **standalone**, or **embedded in other programs**. The execution can happen in a local JVM, or on clusters of many machines.

Source：源头**reading files,** or **from local collections**

​	Source ==》 flink（transformations） ==》 Sink

Sink：目的地**filtering, mapping, joining, grouping**

## DataSource

Data sources create the initial data sets, such as from files or from Java collections. The general mechanism of creating data sets is abstracted behind an **[InputFormat](https://github.com/apache/flink/blob/master//flink-core/src/main/java/org/apache/flink/api/common/io/InputFormat.java)**. Flink comes with several built-in formats to create data sets from common file formats. Many of them have shortcut methods on the *ExecutionEnvironment*.

- 基于文件File-based:
  - `readTextFile(path)` / `TextInputFormat` - Reads files line wise and returns them as Strings.
  - `readTextFileWithValue(path)` / `TextValueInputFormat` - Reads files line wise and returns them as StringValues. StringValues are mutable strings.
  - `readCsvFile(path)` / `CsvInputFormat` - Parses files of comma (or another char) delimited fields. Returns a DataSet of tuples or POJOs. Supports the basic java types and their Value counterparts as field types.
  - `readFileOfPrimitives(path, Class)` / `PrimitiveInputFormat` - Parses files of new-line (or another char sequence) delimited primitive data types such as `String` or `Integer`.
  - `readFileOfPrimitives(path, delimiter, Class)` / `PrimitiveInputFormat` - Parses files of new-line (or another char sequence) delimited primitive data types such as `String` or `Integer` using the given delimiter.
- 基于集合Collection-based:
  - `fromCollection(Collection)` - Creates a data set from a Java.util.Collection. All elements in the collection must be of the same type.
  - `fromCollection(Iterator, Class)` - Creates a data set from an iterator. The class specifies the data type of the elements returned by the iterator.
  - `fromElements(T ...)` - Creates a data set from the given sequence of objects. All objects must be of the same type.
  - `fromParallelCollection(SplittableIterator, Class)` - Creates a data set from an iterator, in parallel. The class specifies the data type of the elements returned by the iterator.
  - `generateSequence(from, to)` - Generates the sequence of numbers in the given interval, in parallel.

## Sink

## 计数器

## 分布式缓存





